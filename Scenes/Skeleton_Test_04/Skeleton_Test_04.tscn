[gd_scene load_steps=13 format=2]

[ext_resource path="res://Assets/Simple_Test_Rig/Godot_Simple_Test_Rig.glb" type="PackedScene" id=1]
[ext_resource path="res://Scenes/Skeleton_Test_04/Test_04_Modification3DStack.tres" type="SkeletonModificationStack3D" id=2]
[ext_resource path="res://Assets/AliciaSolid/AliciaSolid_vrm-0.51.glb" type="PackedScene" id=3]

[sub_resource type="Environment" id=1]
ambient_light_source = 2
ambient_light_color = Color( 0.48, 0.48, 0.48, 1 )

[sub_resource type="PlaneMesh" id=2]
size = Vector2( 20, 20 )

[sub_resource type="SphereMesh" id=3]

[sub_resource type="StandardMaterial3D" id=4]
no_depth_test = true
shading_mode = 0
albedo_color = Color( 0, 0.996078, 0.294118, 1 )

[sub_resource type="StandardMaterial3D" id=5]
no_depth_test = true
shading_mode = 0
albedo_color = Color( 0.996078, 0.839216, 0, 1 )

[sub_resource type="SkeletonModification3D_FABRIK" id=6]
target_nodepath = NodePath("../../../FARIK_TARGET4")
fabrik_data_chain_length = 3
joint_data/0/bone_name = "spine_1"
joint_data/0/bone_index = 32
joint_data/0/auto_calculate_length = true
joint_data/0/use_tip_node = false
joint_data/1/bone_name = "spine_2"
joint_data/1/bone_index = 33
joint_data/1/auto_calculate_length = true
joint_data/1/use_tip_node = false
joint_data/1/magnet_position = Vector3( 0, 0, 0 )
joint_data/2/bone_name = "spine_3"
joint_data/2/bone_index = 34
joint_data/2/auto_calculate_length = true
joint_data/2/use_tip_node = false
joint_data/2/magnet_position = Vector3( 0, 0, 0 )

[sub_resource type="SkeletonModification3D_FABRIK" id=7]
target_nodepath = NodePath("../../../FARIK_TARGET3")
fabrik_data_chain_length = 3
joint_data/0/bone_name = "right_arm"
joint_data/0/bone_index = 102
joint_data/0/auto_calculate_length = true
joint_data/0/use_tip_node = false
joint_data/1/bone_name = "right_fore_arm"
joint_data/1/bone_index = 103
joint_data/1/auto_calculate_length = true
joint_data/1/use_tip_node = false
joint_data/1/magnet_position = Vector3( 0, 0, 0 )
joint_data/2/bone_name = "right_hand"
joint_data/2/bone_index = 104
joint_data/2/auto_calculate_length = true
joint_data/2/use_tip_node = false
joint_data/2/magnet_position = Vector3( 0, 0, 0 )

[sub_resource type="SkeletonModification3D_FABRIK" id=8]
target_nodepath = NodePath("../../../FARIK_TARGET2")
fabrik_data_chain_length = 3
joint_data/0/bone_name = "left_arm"
joint_data/0/bone_index = 36
joint_data/0/auto_calculate_length = true
joint_data/0/use_tip_node = false
joint_data/1/bone_name = "left_fore_arm"
joint_data/1/bone_index = 37
joint_data/1/auto_calculate_length = true
joint_data/1/use_tip_node = false
joint_data/1/magnet_position = Vector3( 0, 0, 0 )
joint_data/2/bone_name = "left_hand"
joint_data/2/bone_index = 38
joint_data/2/auto_calculate_length = true
joint_data/2/use_tip_node = true
joint_data/2/tip_node = NodePath("BoneAttachment3D/END")
joint_data/2/magnet_position = Vector3( 0, 0, 0 )

[sub_resource type="SkeletonModificationStack3D" id=9]
strength = 1.0
modification_count = 3
modifications/0 = SubResource( 6 )
modifications/1 = SubResource( 7 )
modifications/2 = SubResource( 8 )

[node name="Skeleton_Test_04" type="Node3D"]
script = null

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform( 0.637841, 0.642996, -0.423929, 0, 0.550437, 0.834877, 0.770168, -0.532518, 0.351091, 0, 7.59687, 0 )
shadow_enabled = true
script = null

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 1 )
script = null

[node name="FloorMesh" type="MeshInstance3D" parent="."]
mesh = SubResource( 2 )
material/0 = null
script = null

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform( 0.864696, -0.320176, 0.387026, 0, 0.770513, 0.637424, -0.502296, -0.551178, 0.666259, 3.49703, 9.11224, 5.24953 )
script = null

[node name="FARIK_TARGET" type="Position3D" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.582939, 4.76259, -1.69421 )
script = null

[node name="DEBUG_LookAt" type="MeshInstance3D" parent="FARIK_TARGET"]
transform = Transform( 0.1, 0, 0, 0, 0.1, 0, 0, 0, 0.1, 0, 0, 0 )
mesh = SubResource( 3 )
material/0 = SubResource( 4 )
script = null

[node name="FARIK_TARGET2" type="Position3D" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.33067, 3.6034, -4.80096 )
script = null

[node name="DEBUG_LookAt" type="MeshInstance3D" parent="FARIK_TARGET2"]
transform = Transform( 0.1, 0, 0, 0, 0.1, 0, 0, 0, 0.1, 0, 0, 0 )
mesh = SubResource( 3 )
material/0 = SubResource( 5 )
script = null

[node name="FARIK_TARGET3" type="Position3D" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -4.9074, 3.43586, -5.50337 )
script = null

[node name="DEBUG_LookAt" type="MeshInstance3D" parent="FARIK_TARGET3"]
transform = Transform( 0.1, 0, 0, 0, 0.1, 0, 0, 0, 0.1, 0, 0, 0 )
mesh = SubResource( 3 )
material/0 = SubResource( 5 )
script = null

[node name="FARIK_TARGET4" type="Position3D" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -3.25954, 7.5732, -5.55324 )
script = null

[node name="DEBUG_LookAt" type="MeshInstance3D" parent="FARIK_TARGET4"]
transform = Transform( 0.1, 0, 0, 0, 0.1, 0, 0, 0, 0.1, 0, 0, 0 )
mesh = SubResource( 3 )
material/0 = SubResource( 5 )
script = null

[node name="Godot_Simple_Test_Rig" parent="." instance=ExtResource( 1 )]
transform = Transform( 0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, -0.285361, 0, 0 )

[node name="Skeleton" parent="Godot_Simple_Test_Rig/Simple_Test_Rig_Armature" index="0"]
bones/4/bound_children = [ NodePath("BoneAttachment3D") ]
modification_stack = ExtResource( 2 )

[node name="BoneAttachment3D" type="BoneAttachment3D" parent="Godot_Simple_Test_Rig/Simple_Test_Rig_Armature/Skeleton" index="1"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 24, 0 )
bone_name = "bone_5"
script = null

[node name="TIP" type="Position3D" parent="Godot_Simple_Test_Rig/Simple_Test_Rig_Armature/Skeleton/BoneAttachment3D"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 6, 0 )
script = null

[node name="AliciaSolid_vrm-051" parent="." instance=ExtResource( 3 )]
transform = Transform( -4, 0, -1.30337e-06, 0, 4, 0, 1.30337e-06, 0, -4, -3.10114, 0, -5.51083 )

[node name="Skeleton" parent="AliciaSolid_vrm-051/Root" index="0"]
bones/38/bound_children = [ NodePath("BoneAttachment3D") ]
modification_stack = SubResource( 9 )

[node name="BoneAttachment3D" type="BoneAttachment3D" parent="AliciaSolid_vrm-051/Root/Skeleton" index="12"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.49742, 1.26387, 0.00751136 )
bone_name = "left_hand"
script = null

[node name="END" type="Node3D" parent="AliciaSolid_vrm-051/Root/Skeleton/BoneAttachment3D"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.1, 0, 0 )
script = null

[editable path="Godot_Simple_Test_Rig"]

[editable path="AliciaSolid_vrm-051"]
